!function(e,t,s){"use strict";"function"==typeof window.define&&window.define.amd?window.define(s):"undefined"!=typeof module&&module.exports?module.exports=s():t.exports?t.exports=s():t.PromptBoxes=s()}(0,this,function(){"use strict";var s=function(e){if(!(this instanceof s))return new s(e);for(var t in this.options=this._extend(e,{attrPrefix:"pb",speeds:{backdrop:250,toasts:250},alert:{okText:"Ok",okClass:"",closeWithEscape:!1,absolute:!1},confirm:{confirmText:"Confirm",confirmClass:"",cancelText:"Cancel",cancelClass:"",closeWithEscape:!0,absolute:!1},prompt:{inputType:"text",submitText:"Submit",submitClass:"",cancelText:"Cancel",cancelClass:"",closeWithEscape:!0,absolute:!1},toasts:{direction:"top",max:5,duration:5e3,showTimerBar:!0,closeWithEscape:!0,allowClose:!1}}),this._prefixes)this._prefixes.hasOwnProperty(t)&&(this._prefixes[t]=this.options.attrPrefix+"-"+t)};return s.prototype={_extend:function(e,t){if(null==e)return t;for(var s in e)null!=e[s]&&t[s]!==e[s]&&(t[s]=e[s]);return t},_prefixes:{toast:"",confirm:"",prompt:"",alert:"",container:"",backdrop:"",message:"",buttons:"",timerBar:""},_destroyBase:function(t){for(var e=0;e<t.length;e++)t[e].removeAttribute("data-show");this._addEscapeEvent(null),setTimeout(function(){for(var e=0;e<t.length;e++)t[e].remove()},this.options.speeds.backdrop)},_addEscapeEvent:function(t){document.getElementsByTagName("body")[0].onkeyup=t?function(e){27===e.keyCode&&t()}:null},clear:function(){var e=this;e._toastQueue=[],e._displayToasts();for(var t=[],s=[e._prefixes.backdrop,e._prefixes.alert,e._prefixes.confirm,e._prefixes.prompt],a=0;a<s.length;a++)for(var n=document.getElementsByClassName(s[a]),o=0;o<n.length;o++)t.push(n[o]);e._destroyBase(t)},alert:function(t,e,s,a){var n=this;a=n._extend(a,Object.assign({},n.options.alert)),e||(e="This is an alert"),s&&(a.okText=s);var o=document.createElement("div"),i=document.createElement("div");if(i.id=n._prefixes.container,i.className=n._prefixes.alert,o.className=n._prefixes.backdrop,!0===a.absolute){var r=document.documentElement,c=(window.pageYOffset||r.scrollTop)-(r.clientTop||0);i.style.position="absolute",i.style.top=c+"px"}var l=document.createElement("div");l.className=n._prefixes.message,l.innerHTML=e;var d=document.createElement("div"),u=document.createElement("button");d.className=n._prefixes.buttons,u.className=a.okClass,u.innerHTML=a.okText;var p=function(e){t(e||!1),n._destroyBase([o,i])};u.onclick=function(){p(!0)},d.appendChild(u),i.appendChild(l),i.appendChild(d);var m=document.getElementsByTagName("body")[0];m.appendChild(o),m.appendChild(i),a.closeWithEscape&&n._addEscapeEvent(p),setTimeout(function(){u.focus(),o.setAttribute("data-show","true"),i.setAttribute("data-show","true")},50)},confirm:function(t,e,s,a,n){var o=this;n=o._extend(n,Object.assign({},o.options.confirm)),e||(e="Please confirm this action"),s&&(n.confirmText=s),a&&(n.cancelText=a);var i=document.createElement("div"),r=document.createElement("div");if(r.id=o._prefixes.container,r.className=o._prefixes.confirm,i.className=o._prefixes.backdrop,!0===n.absolute){var c=document.documentElement,l=(window.pageYOffset||c.scrollTop)-(c.clientTop||0);r.style.position="absolute",r.style.top=l+"px"}var d=document.createElement("div");d.className=o._prefixes.message,d.innerHTML=e;var u=document.createElement("div"),p=document.createElement("button"),m=document.createElement("button");u.className=o._prefixes.buttons,p.className=n.confirmClass,p.innerHTML=n.confirmText,m.className=n.cancelClass,m.innerHTML=n.cancelText;var f=function(e){t(e||!1),o._destroyBase([i,r])};m.onclick=function(){f()},p.onclick=function(){f(!0)},u.appendChild(m),u.appendChild(p),r.appendChild(d),r.appendChild(u);var h=document.getElementsByTagName("body")[0];h.appendChild(i),h.appendChild(r),n.closeWithEscape&&o._addEscapeEvent(f),setTimeout(function(){p.focus(),i.setAttribute("data-show","true"),r.setAttribute("data-show","true")},50)},prompt:function(t,e,s,a,n,o,i){var r=this;i=r._extend(i,Object.assign({},r.options.prompt)),e||(e="Are you sure?"),s&&(i.inputType=s),n&&(i.submitText=n),o&&(i.cancelText=o);var c=document.createElement("div"),l=document.createElement("div");if(l.id=r._prefixes.container,l.className=r._prefixes.prompt,c.className=r._prefixes.backdrop,!0===i.absolute){var d=document.documentElement,u=(window.pageYOffset||d.scrollTop)-(d.clientTop||0);l.style.position="absolute",l.style.top=u+"px"}var p,m=document.createElement("div");switch(m.className=r._prefixes.message,m.innerHTML=e,i.inputType){case"textarea":p=document.createElement("textarea");break;default:(p=document.createElement("input")).type=i.inputType}a&&(p.value=a);var f=document.createElement("div"),h=document.createElement("button"),v=document.createElement("button");f.className=r._prefixes.buttons,h.className=i.submitClass,a||h.setAttribute("disabled","disabled"),h.innerHTML=i.submitText,v.className=i.cancelClass,v.innerHTML=i.cancelText;var _=function(e){t(e||!1),r._destroyBase([c,l])};p.onkeyup=function(e){var t=p.value;if(""===t)return h.setAttribute("disabled","disabled");h.removeAttribute("disabled"),13===e.keyCode&&"textarea"!==i.inputType&&_(t)},v.onclick=function(){_()},h.onclick=function(){var e=p.value;if(""===e)return p.focus();_(e)},f.appendChild(v),f.appendChild(h),l.appendChild(m),l.appendChild(p),l.appendChild(f);var x=document.getElementsByTagName("body")[0];x.appendChild(c),x.appendChild(l),i.closeWithEscape&&r._addEscapeEvent(_),setTimeout(function(){p.focus(),c.setAttribute("data-show","true"),l.setAttribute("data-show","true")},50)},_toastQueue:[],_addToast:function(e,t,s){this._toastQueue.length>=s.max&&this._toastQueue.splice(s.max-1,this._toastQueue.length-(s.max-1)),this._toastQueue.unshift({id:e.id,className:t}),setTimeout(function(){e.className=t+" show"},50)},_removeToast:function(e){for(var t=0;t<this._toastQueue.length;t++)if(this._toastQueue[t].id===e.id){this._toastQueue.splice(t,1);break}},_displayToasts:function(e){var t=this;e=e||t.options.toasts;for(var s=function(e){e.className="gone "+e.className,setTimeout(function(){try{e.remove()}catch(e){console.error(e)}},t.options.speeds.toasts)},a=document.getElementsByClassName(t._prefixes.toast),n=0;n<a.length;n++){for(var o=a[n].id,i=!1,r=0;r<t._toastQueue.length;r++)o===t._toastQueue[r].id&&(i=!0);i||s(a[n])}var c=0;for(n=0;n<t._toastQueue.length;n++){c+=10;var l=document.getElementById(t._toastQueue[n].id);if(!l)break;if(0<n){var d=document.getElementById(t._toastQueue[n-1].id);d&&(c+=d.clientHeight)}"bottom"===e.direction?l.style.marginBottom=c+"px":l.style.marginTop=c+"px"}},toast:function(e,t,s){var a=this;s=a._extend(s,Object.assign({},a.options.toasts));var n=a._prefixes.toast+" "+s.direction+" "+(t||"info"),o=document.createElement("div");if(o.innerHTML=e,o.id="toast_"+a._toastQueue.length+"_"+Math.random(),o.className=n,s.allowClose){var i=document.createElement("a");i.href="javascript:void(0)",i.innerHTML="&times;",i.className="toast-close",i.onclick=function(){a._removeToast(o),a._displayToasts(s)},o.appendChild(i),o.setAttribute("data-close",!0)}if(document.getElementsByTagName("body")[0].appendChild(o),a._addToast(o,n,s),a._displayToasts(s),s.duration){if(s.showTimerBar){var r=document.createElement("div");r.style.position="absolute",r.style.bottom=0,r.style.left=0,r.style.width=0,r.style.height="4px",r.style.background="rgba(0, 0, 0, 0.25)",r.style.transition="width linear "+s.duration+"ms",r.className=a._prefixes.timerBar,o.appendChild(r),setTimeout(function(){r.style.width="100%"},50)}setTimeout(function(){a._removeToast(o),a._displayToasts(s)},s.duration)}},success:function(e,t){this.toast(e,"success",t)},error:function(e,t){this.toast(e,"error",t)},info:function(e,t){this.toast(e,"info",t)}},s}),Element.prototype.remove=function(){this.parentElement&&this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;0<=e;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])};
//# sourceMappingURL=prompt-boxes.min.js.map